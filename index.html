<!DOCTYPE html>
<html>
<head>
	<title>ESP xPlayer Demo</title>
	
	<script src="../demo/lib/three.js/three.r83.custom.min.js"></script>
    <!-- Include the Hammer.js library -->
    <script src="../demo/lib/hammer.js/hammer.js"></script>
    <!-- Include the ForgeJS library -->
    <script type="text/javascript" src="../demo/lib/forge/forge.js" ></script>
    <script type="text/javascript" src="../demo/lib/forge/forge.min.js" ></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
	<script src="shaka-player/dist/shaka-player.compiled.js"></script>
    <!-- Your application source: -->
    <script src="myapp.js"></script>

</head>
<body>
 	<div id="esp_container" class="esp_container">
      <div id="esp" class="esp"></div>
    </div>
	<video id="video"
           width="640"
           poster="//shaka-player-demo.appspot.com/assets/poster.jpg"
           controls autoplay></video>

    <script type="text/javascript" src="js/video/espxplayer.js"></script>
    <script type="text/javascript">
    //define the URLS 
    	var urls =  ['https://cdn.forgejs.org/samples/common/videos/omni-highlights/dash/411255.mpd', 
    			     'https://cdn.forgejs.org/samples/common/videos/omni-highlights/dash/411255.mpd', 
    			     'https://cdn.forgejs.org/samples/common/videos/omni-highlights/dash/411255.mpd', 
    			     'https://cdn.forgejs.org/samples/common/videos/omni-highlights/dash/411255.mpd'];
    //define the template layouts.
    	var templates = ['1 - 3R'];

    	//load(urls, templates[0]);
    	var config = {
    		"story":
			    {
			        "uid": "mpegdash-story",
			        "name": "MPEG-DASH Video Story",
			        "slug": "mpegdash-story",
			        "description": "This is sample of MPEG-DASH video display",
			        "default": "scene-0",

			        "scenes":
			        [
			            {
			                "uid": "scene-0",
			                "name": "First scene",
			                "slug": "first-scene",
			                "description": "This is the first scene",

			                "media":
			                {
			                    "uid": "video-0",
			                    "type": "video",

			                    "source":
			                    {
			                        "format": "equi",
			                        "streaming": "dash",
			                        "url": "https://cdn.forgejs.org/samples/common/videos/omni-highlights/dash/411255.mpd"
			                    },

			                    "options":
			                    {
			                        "autoPlay": true,
			                        "loop": true,
			                        "volume": 0.5
			                    }
			                }
			            }
			        ]
			    }
			};
			// Create a viewer
			var viewer = new FORGE.Viewer("esp", config);
    </script>
</body>
</html>